{
  "hash": "7dbcd40eb3ccc99ba1eeaaa91035ee37",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Lab 1: Analyzing Olympic Data with R (Solutions)\"\ndate: \"2024-08-16\"\noutput: html_document\n---\n\n\n\n# Introduction\n\nIn this lab session, you'll work with a dataset containing information about the Olympics. The dataset includes various variables, such as the edition of the games, country codes, sports, events, athletes, and the results. Your goal is to explore this data, identify patterns, handle missing values, and generate insights using R.\n\nThe dataset contains the following variables:\n\n- `edition`: The edition of the Olympic Games.\n- `edition_id`: A unique identifier for the edition.\n- `country_noc`: The National Olympic Committee (NOC) code representing the country.\n- `sport`: The sport in which the event took place.\n- `event`: The specific event within the sport.\n- `result_id`: A unique identifier for the result.\n- `athlete`: The name of the athlete.\n- `athlete_id`: A unique identifier for the athlete.\n- `pos`: The position or rank the athlete achieved in the event.\n- `medal`: The type of medal won (if any).\n- `isTeamSport`: Indicates whether the event is a team sport.\n\n# Loading Packages and Data\n\nTo start, you'll need to load the necessary packages and the dataset. This will allow you to perform the analyses required for the lab exercises.\n\n## Exercise 1: Data Exploration\n\n1. **Load the dataset into R.**  \n\n2. **Get an overview of the dataset.**  \n   You should display the first few rows and summarize each variable to understand the dataset's structure. This step is crucial for familiarizing yourself with the data you'll be working with.\n\n3. **Determine the number of unique editions, sports, and events in the dataset.**  \n   Your goal here is to identify the diversity within the dataset. Use R functions to calculate how many unique Olympic editions, sports, and events are represented in the data.\n\n### Expected Outcome:\n\n- An understanding of the dataset’s structure.\n- Insights into the diversity of the data, such as the number of unique Olympic editions and sports.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load necessary packages\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\n# Load the dataset\nolympics_data <- read_csv(\"https://raw.githubusercontent.com/josephwccheng/olympedia_web_scraping/main/data/Olympic_Athlete_Event_Results.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 314907 Columns: 11\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): edition, country_noc, sport, event, athlete, pos, medal\ndbl (3): edition_id, result_id, athlete_id\nlgl (1): isTeamSport\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\n# Display the first few rows\nhead(olympics_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 11\n  edition  edition_id country_noc sport event result_id athlete athlete_id pos  \n  <chr>         <dbl> <chr>       <chr> <chr>     <dbl> <chr>        <dbl> <chr>\n1 1908 Su…          5 ANZ         Athl… 100 …     56265 Ernest…      64710 DNS  \n2 1908 Su…          5 ANZ         Athl… 400 …     56313 Henry …      64756 DNS  \n3 1908 Su…          5 ANZ         Athl… 800 …     56338 Harvey…      64808 3 h8…\n4 1908 Su…          5 ANZ         Athl… 800 …     56338 Guy Ha…     922519 DNS  \n5 1908 Su…          5 ANZ         Athl… 800 …     56338 Joseph…      64735 DNS  \n6 1908 Su…          5 ANZ         Athl… 800 …     56338 Henry …      64756 DNS  \n# ℹ 2 more variables: medal <chr>, isTeamSport <lgl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# Summary of the dataset\nsummary(olympics_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   edition            edition_id    country_noc           sport          \n Length:314907      Min.   : 1.00   Length:314907      Length:314907     \n Class :character   1st Qu.:16.00   Class :character   Class :character  \n Mode  :character   Median :24.00   Mode  :character   Mode  :character  \n                    Mean   :30.16                                        \n                    3rd Qu.:49.00                                        \n                    Max.   :62.00                                        \n    event             result_id          athlete            athlete_id      \n Length:314907      Min.   :       1   Length:314907      Min.   :       1  \n Class :character   1st Qu.:   31505   Class :character   1st Qu.:   36020  \n Mode  :character   Median :   65810   Mode  :character   Median :   76333  \n                    Mean   : 1502015                      Mean   :  123781  \n                    3rd Qu.:  260000                      3rd Qu.:  111028  \n                    Max.   :90016770                      Max.   :22000000  \n     pos               medal           isTeamSport    \n Length:314907      Length:314907      Mode :logical  \n Class :character   Class :character   FALSE:194095   \n Mode  :character   Mode  :character   TRUE :120812   \n                                                      \n                                                      \n                                                      \n```\n\n\n:::\n\n```{.r .cell-code}\n# Number of unique editions, sports, and events\nn_editions <- n_distinct(olympics_data$edition)\nn_sports   <- n_distinct(olympics_data$sport)\nn_events   <- n_distinct(olympics_data$event)\n\nn_editions\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 55\n```\n\n\n:::\n\n```{.r .cell-code}\nn_sports\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 108\n```\n\n\n:::\n\n```{.r .cell-code}\nn_events\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 916\n```\n\n\n:::\n:::\n\n\n\n## Exercise 2: Handling Missing Values\n\n1. **Identify missing values.**  \n   Determine which variables have missing values and how many missing values are present in each. This will help you understand the completeness of the data.\n\n2. **Create a subset of the data where all missing values are removed.**  \n   You should generate a clean dataset without missing values. Consider how this might impact your analysis.\n\n3. **Discuss the impact of removing rows with missing values.**  \n   Reflect on how the removal of rows could influence the results and representativeness of the data.\n\n### Expected Outcome:\n- A list of variables with missing values.\n- A cleaned version of the dataset.\n- A thoughtful consideration of the implications of removing missing data.\n\n## Exercise 3: Analyzing Medals Distribution\n\n1. **Calculate the total number of medals won by each country.**  \n   You’ll need to group the data by country and count the total number of medals won.\n\n2. **Identify the country with the most gold medals.**  \n   Focus on identifying which country has excelled the most in terms of winning gold medals.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Identify missing values\nmissing_values <- colSums(is.na(olympics_data))\n\nmissing_values\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    edition  edition_id country_noc       sport       event   result_id \n          0           0           0           0           0           0 \n    athlete  athlete_id         pos       medal isTeamSport \n          0           0           0      270336           0 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Subset data with no missing values\nclean_data <- na.omit(olympics_data)\n\n# Display the cleaned data\nhead(clean_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 11\n  edition  edition_id country_noc sport event result_id athlete athlete_id pos  \n  <chr>         <dbl> <chr>       <chr> <chr>     <dbl> <chr>        <dbl> <chr>\n1 1908 Su…          5 ANZ         Athl… 3,50…     56421 Harry …      64719 3    \n2 1908 Su…          5 ANZ         Boxi… Midd…     21263 Snowy …      45153 2    \n3 1908 Su…          5 ANZ         Rugby Rugb…     31505 John B…      11237 1    \n4 1908 Su…          5 ANZ         Rugby Rugb…     31505 Phil C…      11239 1    \n5 1908 Su…          5 ANZ         Rugby Rugb…     31505 Dan Ca…      11240 1    \n6 1908 Su…          5 ANZ         Rugby Rugb…     31505 Bob Cr…      11241 1    \n# ℹ 2 more variables: medal <chr>, isTeamSport <lgl>\n```\n\n\n:::\n:::\n\n\n\n\n### Expected Outcome:\n- A summary table showing the total medals won by each country.\n- Identification of the top-performing country in terms of gold medals.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Total number of medals by country\nmedals_by_country <- olympics_data |>\n  filter(!is.na(medal)) |>\n  group_by(country_noc) |>\n  summarize(total_medals = n(), \n            gold_medals = sum(medal == \"Gold\")) |>\n  arrange(desc(total_medals))\n\n# Display the top 10 countries\ntop_10_countries <- head(medals_by_country, 10)\ntop_10_countries\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 3\n   country_noc total_medals gold_medals\n   <chr>              <int>       <int>\n 1 USA                 6273        2931\n 2 URS                 2543        1099\n 3 GER                 2437         816\n 4 GBR                 2367         810\n 5 FRA                 1968         564\n 6 ITA                 1746         593\n 7 CAN                 1668         578\n 8 SWE                 1654         522\n 9 AUS                 1490         409\n10 NED                 1239         348\n```\n\n\n:::\n:::\n\n\n\n## Exercise 4: Analyzing Performance by Athlete\n\n1. **Identify the athlete with the most medals overall.**  \n   Your task is to find the athlete who has won the most medals in the Olympics.\n\n2. **Determine the number of unique events the athlete has participated in.**  \n   Investigate the range of events this top athlete has competed in.\n\n### Expected Outcome:\n- The name of the athlete with the most medals.\n- The number of unique events this athlete has participated in, offering insight into their versatility.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Athlete with the most medals\ntop_athlete <- olympics_data |>\n  filter(!is.na(medal)) |>\n  group_by(athlete) |>\n  summarize(total_medals = n()) |>\n  arrange(desc(total_medals)) |>\n  slice(1) |> \n  pull(athlete)\n\ntop_athlete\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Michael Phelps\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# Number of unique events for the top athlete\nunique_events_top_athlete <- olympics_data |>\n  filter(athlete == top_athlete) |> \n  distinct(event) |> \n  count()\n\nunique_events_top_athlete\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 1\n      n\n  <int>\n1     8\n```\n\n\n:::\n\n```{.r .cell-code}\n# Distribution of medals for the top athlete\nmedals_top_athlete <- olympics_data |>\n  filter(athlete == top_athlete, !is.na(medal)) |>\n  count(medal)\n\nmedals_top_athlete\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 2\n  medal      n\n  <chr>  <int>\n1 Bronze     2\n2 Gold      23\n3 Silver     3\n```\n\n\n:::\n:::\n\n\n\n\n## Exercise 5: Team Sports vs. Individual Sports\n\n1. **Compare the number of medals won in team sports versus individual sports.**  \n   Analyze how successful athletes have been in team sports compared to individual sports.\n\n2. **Identify the most successful team sport.**  \n   Determine which team sport has yielded the most medals.\n\n### Expected Outcome:\n- A comparison of medals won in team versus individual sports.\n- Identification of the most successful team sport, providing insights into which team events dominate in terms of medals.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Medals in team vs. individual sports\nteam_vs_individual <- olympics_data |>\n  filter(!is.na(medal)) |>\n  group_by(isTeamSport) |>\n  summarize(total_medals = n())\n\nteam_vs_individual\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  isTeamSport total_medals\n  <lgl>              <int>\n1 FALSE              15279\n2 TRUE               29292\n```\n\n\n:::\n\n```{.r .cell-code}\n# Most successful team sport\ntop_team_sport <- olympics_data |>\n  filter(!is.na(medal), isTeamSport == TRUE) |>\n  group_by(sport) |>\n  summarize(total_medals = n()) |>\n  arrange(desc(total_medals)) |>\n  slice(1)\n\ntop_team_sport\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 2\n  sport  total_medals\n  <chr>         <int>\n1 Rowing         2951\n```\n\n\n:::\n:::\n\n\n\n# Conclusion\n\nThis lab session is designed to help you work with real-world Olympic data, exploring various techniques to handle and analyze data in R. By the end of this session, you should be able to perform basic data exploration, handle missing data, and analyze key aspects of the dataset. Make sure to reflect on any challenges you encounter and bring them up in the next session for discussion.",
    "supporting": [
      "01-lab-sol_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}