{
  "hash": "91dbc05e978b83cd490fd3875ea848c8",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Mastering Data Manipulation in R\"\ndate: \"2024-08-14\"\nformat: html\nengine: knitr\nfilters:\n  - webr\nwebr:\n  packages:\n    - ggplot2\n    - tidyverse\n    - dplyr\n    - scales\n    - gapminder\n    - janitor\n  cell-options:\n    editor-font-scale: 0.8\n    fig-width: 7\n    fig-height: 4.3\n    out-width: \"100%\"\n---\n\n\n\n\n\n\n## Migration Data\n\nThe data on immigrant and emigrant stocks used in this session is sourced from the United Nations Department of Economic and Social Affairs (UN DESA).\n\n### How does the UN define a migrant?\n\nAccording to the United Nations Population Division, an international migrant is someone who has been living for one year or longer in a country other than the one in which they were born. This definition includes many foreign workers and international students, as well as refugees and, in some cases, their descendants (such as Palestinians born in refugee camps outside of the Palestinian territories). Estimates of unauthorized immigrants living in various countries are also included in these totals.\n\nTourists, foreign-aid workers, temporary workers employed abroad for less than a year, and overseas military personnel are typically not counted as migrants.\n\n## Loading and Cleaning the Data\n\nLet's begin by loading our data using the read_csv function:\n\n\n```{webr-r}\n#| label: load-data\nmigration <- read_csv(\"https://raw.githubusercontent.com/harvard-api209/api209-math-camp/main/files/data/external_data/migration.csv\")\n```\n\nWe can use the `glimpse()` fucntion to check our columns (variables):\n\n```{webr-r}\n#| label: glimpse\nmigration |> \n    glimpse()\n```\n\nAnd, then, we are going to use the `janitor` package to clean the name of the variables using the `clean_names()` function:\n\n```{webr-r}\nmigration <- migration |> \n    clean_names()\n\n# and check again the names\nmigration |> \n    glimpse()\n```\n\n### Exercise 1\n\nLet's ignore specifics regarding whether we have countries, regions, etc. We will filter our dataset that contain only data from 1990 to 2020 and let's look into 3 countries:\n\n::: {.panel-tabset}\n## {{< fa code >}}&ensp;Interactive editor\n\n```{webr-r}\nmigration_filtered <- migration |>\n  filter(year >= 1990 & year <= 2020) |> \n  filter(country %in% c(\"\"))\n```\n\n## {{< fa lightbulb >}}&ensp;Hint\n\n**Hint:** You'll want to change something in the code that creates `migration_filtered`. \n:::\n\n### Exercise 2\n\nWith your filtered data, use the `summarize` function to calculate the total number of migrants for each country from 1990 to 2020.\n\n::: {.panel-tabset}\n## {{< fa code >}}&ensp;Interactive editor\n\n```{webr-r}\nmigration_filtered |>\n    group_by()\n    summarize()\n```\n\n## {{< fa lightbulb >}}&ensp;Hint\n\n**Hint:** Be careful! There could be missing values!\n:::\n\n\n## Overview\n\nThis session will focus on advanced data manipulation techniques using R and the tidyverse.\n\n## Data wrangling\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}